<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S-Luxe Beauty - Admin Panel</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            color: #764ba2;
            font-size: 2em;
        }

        .header .admin-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .admin-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 20px;
        }

        .tabs {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
        }

        .tab-button {
            padding: 15px 30px;
            background: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            color: #666;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .tab-button.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
        }

        .stat-icon.pending {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .stat-icon.accepted {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .stat-icon.cancelled {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }

        .stat-icon.customers {
            background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);
        }

        .stat-info h3 {
            font-size: 32px;
            color: #333;
        }

        .stat-info p {
            color: #666;
            margin-top: 5px;
        }

        .section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 25px;
        }

        .section h2 {
            color: #764ba2;
            margin-bottom: 20px;
            font-size: 24px;
        }

        .search-filter {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .search-input {
            flex: 1;
            min-width: 250px;
            padding: 12px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border 0.3s;
        }

        .search-input:focus {
            outline: none;
            border-color: #764ba2;
        }

        .filter-select {
            padding: 12px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            background: white;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        th {
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        td {
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
        }

        tbody tr {
            transition: background 0.3s;
        }

        tbody tr:hover {
            background: #f8f9fa;
        }

        .status-badge {
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-accepted {
            background: #d4edda;
            color: #155724;
        }

        .status-cancelled {
            background: #f8d7da;
            color: #721c24;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-accept {
            background: #28a745;
            color: white;
        }

        .btn-accept:hover {
            background: #218838;
            transform: translateY(-2px);
        }

        .btn-cancel {
            background: #dc3545;
            color: white;
        }

        .btn-cancel:hover {
            background: #c82333;
            transform: translateY(-2px);
        }

        .btn-view {
            background: #007bff;
            color: white;
        }

        .btn-view:hover {
            background: #0056b3;
            transform: translateY(-2px);
        }

        .btn-edit {
            background: #ffc107;
            color: #333;
        }

        .btn-edit:hover {
            background: #e0a800;
            transform: translateY(-2px);
        }

        .btn-delete {
            background: #dc3545;
            color: white;
        }

        .btn-delete:hover {
            background: #c82333;
            transform: translateY(-2px);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 15px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .modal-header h3 {
            color: #764ba2;
            font-size: 24px;
        }

        .close-modal {
            font-size: 30px;
            cursor: pointer;
            color: #999;
            transition: color 0.3s;
        }

        .close-modal:hover {
            color: #333;
        }

        .modal-body {
            margin-bottom: 25px;
        }

        .detail-row {
            display: flex;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e0e0e0;
        }

        .detail-label {
            font-weight: 600;
            color: #666;
            width: 150px;
        }

        .detail-value {
            color: #333;
            flex: 1;
        }

        .modal-footer {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #999;
        }

        .empty-state-icon {
            font-size: 80px;
            margin-bottom: 20px;
        }

        .empty-state p {
            font-size: 18px;
        }

        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }

            .tabs {
                flex-direction: column;
            }

            .stats {
                grid-template-columns: 1fr;
            }

            table {
                font-size: 12px;
            }

            .action-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üíé S-Luxe Beauty Admin Panel</h1>
            <div class="admin-info">
                <div class="admin-avatar">A</div>
                <div>
                    <div style="font-weight: 600;">Admin User</div>
                    <div style="color: #666; font-size: 14px;">Administrator</div>
                </div>
            </div>
        </div>

        <!-- Statistics -->
        <div class="stats">
            <div class="stat-card">
                <div class="stat-icon pending">‚è≥</div>
                <div class="stat-info">
                    <h3 id="stat-pending">5</h3>
                    <p>Pending Requests</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon accepted">‚úÖ</div>
                <div class="stat-info">
                    <h3 id="stat-accepted">12</h3>
                    <p>Accepted Requests</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon cancelled">‚ùå</div>
                <div class="stat-info">
                    <h3 id="stat-cancelled">3</h3>
                    <p>Cancelled Requests</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon customers">üë•</div>
                <div class="stat-info">
                    <h3 id="stat-customers">45</h3>
                    <p>Total Customers</p>
                </div>
            </div>
        </div>

        <!-- Tabs -->
        <div class="tabs">
            <button class="tab-button active" onclick="switchTab('consultations')">
                üìã Consultation Requests
            </button>
            <button class="tab-button" onclick="switchTab('customers')">
                üë• Customer Management
            </button>
        </div>

        <!-- Consultations Tab -->
        <div id="consultations-tab" class="tab-content active">
            <div class="section">
                <h2>Consultation Requests</h2>
                
                <div class="search-filter">
                    <input type="text" class="search-input" id="search-consultations" placeholder="üîç Search by name, email, or phone...">
                    <select class="filter-select" id="filter-status" onchange="filterConsultations()">
                        <option value="all">All Status</option>
                        <option value="pending">Pending</option>
                        <option value="accepted">Accepted</option>
                        <option value="cancelled">Cancelled</option>
                    </select>
                    <select class="filter-select" id="filter-service" onchange="filterConsultations()">
                        <option value="all">All Services</option>
                        <option value="facial">Facial Treatment</option>
                        <option value="massage">Massage Therapy</option>
                        <option value="skincare">Skincare Consultation</option>
                        <option value="makeup">Makeup Service</option>
                    </select>
                </div>

                <table id="consultations-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Customer Name</th>
                            <th>Email</th>
                            <th>Phone</th>
                            <th>Service</th>
                            <th>Date</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="consultations-tbody">
                        <!-- Data will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Customers Tab -->
        <div id="customers-tab" class="tab-content">
            <div class="section">
                <h2>Customer Management</h2>
                
                <div class="search-filter">
                    <input type="text" class="search-input" id="search-customers" placeholder="üîç Search customers by name, email, or phone...">
                    <select class="filter-select" id="filter-customer-type" onchange="filterCustomers()">
                        <option value="all">All Customers</option>
                        <option value="vip">VIP</option>
                        <option value="regular">Regular</option>
                        <option value="new">New</option>
                    </select>
                </div>

                <table id="customers-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Phone</th>
                            <th>Type</th>
                            <th>Visits</th>
                            <th>Joined Date</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="customers-tbody">
                        <!-- Data will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Consultation Detail Modal -->
    <div id="consultation-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Consultation Details</h3>
                <span class="close-modal" onclick="closeModal('consultation-modal')">&times;</span>
            </div>
            <div class="modal-body" id="consultation-details">
                <!-- Details will be populated by JavaScript -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-accept" onclick="acceptConsultation()">‚úì Accept</button>
                <button class="btn btn-cancel" onclick="cancelConsultation()">‚úó Cancel</button>
            </div>
        </div>
    </div>

    <!-- Customer Detail Modal -->
    <div id="customer-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Customer Details</h3>
                <span class="close-modal" onclick="closeModal('customer-modal')">&times;</span>
            </div>
            <div class="modal-body" id="customer-details">
                <!-- Details will be populated by JavaScript -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-edit" onclick="editCustomer()">‚úèÔ∏è Edit</button>
                <button class="btn btn-delete" onclick="deleteCustomer()">üóëÔ∏è Delete</button>
            </div>
        </div>
    </div>

    <script>
        // Sample data - In production, this would come from a backend API
        let consultations = [
            {id: 1, name: 'Emma Johnson', email: 'emma.j@email.com', phone: '+1 555-0101', service: 'Facial Treatment', date: '2026-01-15', time: '10:00 AM', status: 'pending', notes: 'First time customer, interested in anti-aging treatment'},
            {id: 2, name: 'Sophia Williams', email: 'sophia.w@email.com', phone: '+1 555-0102', service: 'Massage Therapy', date: '2026-01-16', time: '2:00 PM', status: 'pending', notes: 'Prefers Swedish massage'},
            {id: 3, name: 'Olivia Brown', email: 'olivia.b@email.com', phone: '+1 555-0103', service: 'Skincare Consultation', date: '2026-01-14', time: '11:00 AM', status: 'accepted', notes: 'Dealing with acne, sensitive skin'},
            {id: 4, name: 'Ava Davis', email: 'ava.d@email.com', phone: '+1 555-0104', service: 'Makeup Service', date: '2026-01-17', time: '3:00 PM', status: 'accepted', notes: 'Bridal makeup for wedding'},
            {id: 5, name: 'Isabella Miller', email: 'isabella.m@email.com', phone: '+1 555-0105', service: 'Facial Treatment', date: '2026-01-13', time: '9:00 AM', status: 'cancelled', notes: 'Customer requested cancellation'},
            {id: 6, name: 'Mia Wilson', email: 'mia.w@email.com', phone: '+1 555-0106', service: 'Massage Therapy', date: '2026-01-18', time: '1:00 PM', status: 'pending', notes: 'Sports massage for back pain'},
            {id: 7, name: 'Charlotte Moore', email: 'charlotte.m@email.com', phone: '+1 555-0107', service: 'Skincare Consultation', date: '2026-01-12', time: '4:00 PM', status: 'accepted', notes: 'Looking for anti-wrinkle solutions'},
            {id: 8, name: 'Amelia Taylor', email: 'amelia.t@email.com', phone: '+1 555-0108', service: 'Facial Treatment', date: '2026-01-19', time: '10:30 AM', status: 'pending', notes: 'Hydrating facial treatment'},
        ];

        let customers = [
            {id: 1, name: 'Emma Johnson', email: 'emma.j@email.com', phone: '+1 555-0101', type: 'regular', visits: 5, joined: '2025-06-15', address: '123 Main St, City', birthday: '1990-05-20'},
            {id: 2, name: 'Sophia Williams', email: 'sophia.w@email.com', phone: '+1 555-0102', type: 'vip', visits: 15, joined: '2024-03-10', address: '456 Oak Ave, Town', birthday: '1988-08-12'},
            {id: 3, name: 'Olivia Brown', email: 'olivia.b@email.com', phone: '+1 555-0103', type: 'regular', visits: 8, joined: '2025-01-22', address: '789 Pine Rd, Village', birthday: '1992-11-30'},
            {id: 4, name: 'Ava Davis', email: 'ava.d@email.com', phone: '+1 555-0104', type: 'new', visits: 1, joined: '2025-12-05', address: '321 Elm St, City', birthday: '1995-03-18'},
            {id: 5, name: 'Isabella Miller', email: 'isabella.m@email.com', phone: '+1 555-0105', type: 'vip', visits: 22, joined: '2023-09-14', address: '654 Maple Dr, Town', birthday: '1985-07-25'},
        ];

        let currentConsultationId = null;
        let currentCustomerId = null;

        // Initialize the page
        function init() {
            renderConsultations();
            renderCustomers();
            updateStats();
            setupSearchListeners();
        }

        // Tab switching
        function switchTab(tab) {
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tab + '-tab').classList.add('active');
        }

        // Render consultations table
        function renderConsultations(filter = {}) {
            const tbody = document.getElementById('consultations-tbody');
            let filteredData = consultations;

            // Apply filters
            if (filter.status && filter.status !== 'all') {
                filteredData = filteredData.filter(c => c.status === filter.status);
            }
            if (filter.service && filter.service !== 'all') {
                filteredData = filteredData.filter(c => c.service.toLowerCase().includes(filter.service.toLowerCase()));
            }
            if (filter.search) {
                const searchLower = filter.search.toLowerCase();
                filteredData = filteredData.filter(c => 
                    c.name.toLowerCase().includes(searchLower) ||
                    c.email.toLowerCase().includes(searchLower) ||
                    c.phone.includes(searchLower)
                );
            }

            if (filteredData.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="8">
                            <div class="empty-state">
                                <div class="empty-state-icon">üì≠</div>
                                <p>No consultation requests found</p>
                            </div>
                        </td>
                    </tr>
                `;
                return;
            }

            tbody.innerHTML = filteredData.map(c => `
                <tr>
                    <td>#${c.id}</td>
                    <td>${c.name}</td>
                    <td>${c.email}</td>
                    <td>${c.phone}</td>
                    <td>${c.service}</td>
                    <td>${c.date} ${c.time}</td>
                    <td><span class="status-badge status-${c.status}">${c.status.toUpperCase()}</span></td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn btn-view" onclick="viewConsultation(${c.id})">üëÅÔ∏è View</button>
                            ${c.status === 'pending' ? `
                                <button class="btn btn-accept" onclick="quickAccept(${c.id})">‚úì Accept</button>
                                <button class="btn btn-cancel" onclick="quickCancel(${c.id})">‚úó Cancel</button>
                            ` : ''}
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        // Render customers table
        function renderCustomers(filter = {}) {
            const tbody = document.getElementById('customers-tbody');
            let filteredData = customers;

            // Apply filters
            if (filter.type && filter.type !== 'all') {
                filteredData = filteredData.filter(c => c.type === filter.type);
            }
            if (filter.search) {
                const searchLower = filter.search.toLowerCase();
                filteredData = filteredData.filter(c => 
                    c.name.toLowerCase().includes(searchLower) ||
                    c.email.toLowerCase().includes(searchLower) ||
                    c.phone.includes(searchLower)
                );
            }

            if (filteredData.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="8">
                            <div class="empty-state">
                                <div class="empty-state-icon">üë§</div>
                                <p>No customers found</p>
                            </div>
                        </td>
                    </tr>
                `;
                return;
            }

            tbody.innerHTML = filteredData.map(c => `
                <tr>
                    <td>#${c.id}</td>
                    <td>${c.name}</td>
                    <td>${c.email}</td>
                    <td>${c.phone}</td>
                    <td><span class="status-badge status-${c.type === 'vip' ? 'accepted' : c.type === 'new' ? 'pending' : 'cancelled'}">${c.type.toUpperCase()}</span></td>
                    <td>${c.visits}</td>
                    <td>${c.joined}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn btn-view" onclick="viewCustomer(${c.id})">üëÅÔ∏è View</button>
                            <button class="btn btn-edit" onclick="quickEdit(${c.id})">‚úèÔ∏è Edit</button>
                            <button class="btn btn-delete" onclick="quickDelete(${c.id})">üóëÔ∏è Delete</button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        // View consultation details
        function viewConsultation(id) {
            const consultation = consultations.find(c => c.id === id);
            if (!consultation) return;

            currentConsultationId = id;
            const detailsDiv = document.getElementById('consultation-details');
            
            detailsDiv.innerHTML = `
                <div class="detail-row">
                    <div class="detail-label">Request ID:</div>
                    <div class="detail-value">#${consultation.id}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Customer Name:</div>
                    <div class="detail-value">${consultation.name}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Email:</div>
                    <div class="detail-value">${consultation.email}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Phone:</div>
                    <div class="detail-value">${consultation.phone}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Service:</div>
                    <div class="detail-value">${consultation.service}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Date & Time:</div>
                    <div class="detail-value">${consultation.date} at ${consultation.time}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Status:</div>
                    <div class="detail-value"><span class="status-badge status-${consultation.status}">${consultation.status.toUpperCase()}</span></div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Notes:</div>
                    <div class="detail-value">${consultation.notes}</div>
                </div>
            `;

            document.getElementById('consultation-modal').classList.add('active');
        }

        // View customer details
        function viewCustomer(id) {
            const customer = customers.find(c => c.id === id);
            if (!customer) return;

            currentCustomerId = id;
            const detailsDiv = document.getElementById('customer-details');
            
            detailsDiv.innerHTML = `
                <div class="detail-row">
                    <div class="detail-label">Customer ID:</div>
                    <div class="detail-value">#${customer.id}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Name:</div>
                    <div class="detail-value">${customer.name}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Email:</div>
                    <div class="detail-value">${customer.email}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Phone:</div>
                    <div class="detail-value">${customer.phone}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Address:</div>
                    <div class="detail-value">${customer.address}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Birthday:</div>
                    <div class="detail-value">${customer.birthday}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Customer Type:</div>
                    <div class="detail-value"><span class="status-badge status-${customer.type === 'vip' ? 'accepted' : customer.type === 'new' ? 'pending' : 'cancelled'}">${customer.type.toUpperCase()}</span></div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Total Visits:</div>
                    <div class="detail-value">${customer.visits}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Joined Date:</div>
                    <div class="detail-value">${customer.joined}</div>
                </div>
            `;

            document.getElementById('customer-modal').classList.add('active');
        }

        // Quick accept consultation
        function quickAccept(id) {
            if (confirm('Are you sure you want to accept this consultation request?')) {
                const consultation = consultations.find(c => c.id === id);
                if (consultation) {
                    consultation.status = 'accepted';
                    renderConsultations();
                    updateStats();
                    alert('‚úÖ Consultation request accepted successfully!');
                }
            }
        }

        // Accept consultation from modal
        function acceptConsultation() {
            if (currentConsultationId) {
                quickAccept(currentConsultationId);
                closeModal('consultation-modal');
            }
        }

        // Quick cancel consultation
        function quickCancel(id) {
            if (confirm('Are you sure you want to cancel this consultation request?')) {
                const consultation = consultations.find(c => c.id === id);
                if (consultation) {
                    consultation.status = 'cancelled';
                    renderConsultations();
                    updateStats();
                    alert('‚ùå Consultation request cancelled.');
                }
            }
        }

        // Cancel consultation from modal
        function cancelConsultation() {
            if (currentConsultationId) {
                quickCancel(currentConsultationId);
                closeModal('consultation-modal');
            }
        }

        // Quick edit customer
        function quickEdit(id) {
            alert('Edit functionality would open a form to modify customer details. (Feature to be implemented)');
        }

        // Edit customer from modal
        function editCustomer() {
            if (currentCustomerId) {
                alert('Edit functionality would open a form to modify customer details. (Feature to be implemented)');
            }
        }

        // Quick delete customer
        function quickDelete(id) {
            if (confirm('Are you sure you want to delete this customer? This action cannot be undone.')) {
                customers = customers.filter(c => c.id !== id);
                renderCustomers();
                updateStats();
                alert('üóëÔ∏è Customer deleted successfully.');
            }
        }

        // Delete customer from modal
        function deleteCustomer() {
            if (currentCustomerId) {
                quickDelete(currentCustomerId);
                closeModal('customer-modal');
            }
        }

        // Close modal
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
            currentConsultationId = null;
            currentCustomerId = null;
        }

        // Filter consultations
        function filterConsultations() {
            const status = document.getElementById('filter-status').value;
            const service = document.getElementById('filter-service').value;
            const search = document.getElementById('search-consultations').value;
            
            renderConsultations({ status, service, search });
        }

        // Filter customers
        function filterCustomers() {
            const type = document.getElementById('filter-customer-type').value;
            const search = document.getElementById('search-customers').value;
            
            renderCustomers({ type, search });
        }

        // Setup search listeners
        function setupSearchListeners() {
            document.getElementById('search-consultations').addEventListener('input', filterConsultations);
            document.getElementById('search-customers').addEventListener('input', filterCustomers);
        }

        // Update statistics
        function updateStats() {
            const pending = consultations.filter(c => c.status === 'pending').length;
            const accepted = consultations.filter(c => c.status === 'accepted').length;
            const cancelled = consultations.filter(c => c.status === 'cancelled').length;
            
            document.getElementById('stat-pending').textContent = pending;
            document.getElementById('stat-accepted').textContent = accepted;
            document.getElementById('stat-cancelled').textContent = cancelled;
            document.getElementById('stat-customers').textContent = customers.length;
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('active');
            }
        }

        // Initialize on page load
        window.onload = init;
    </script>
</body>
</html>